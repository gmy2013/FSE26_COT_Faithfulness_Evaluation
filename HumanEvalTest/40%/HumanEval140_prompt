
def fix_spaces(text):
    """
    Given a string text, replace all spaces in it with underscores, 
    and if a string has more than 2 consecutive spaces, 
    then replace all consecutive spaces with - 
    
    fix_spaces("Example") == "Example"
    fix_spaces("Example 1") == "Example_1"
    fix_spaces(" Example 2") == "_Example_2"
    fix_spaces(" Example   3") == "_Example-3"
    """

The following is chain of thought:
We are going to process the string to replace spaces with underscores, but if there are more than 2 consecutive spaces, replace that entire group with a dash.
 Steps:
 1. We cannot simply replace every space because we have to consider consecutive groups.
 2. We can split the problem into two parts: handling consecutive spaces (more than 2) and single or double spaces.
 3. Alternatively, we can traverse the string and build a new string while keeping track of consecutive spaces.
 4. Let's use a while loop to traverse the string and collect non-space characters and groups of spaces.

 Plan:
 Initialize an empty result list.
Traverse the string with an index i.
If the current character is not a space, append it to the result.
If it is a space, then we start counting consecutive spaces from this point.
   Let j = i
   While j < len(text) and text[j] == ' ':
        j += 1
   Now, the number of consecutive spaces is (j - i).
   If the count is greater than 2, then we append a '-' to the result.
   Else, we append '_' repeated (j-i) times? But note: we are replacing each space in a group of 1 or 2 with underscore, but the example shows:
        " Example 2" becomes "_Example_2" -> so each single space becomes an underscore, and two spaces would become two underscores?
   However, the example " Example   3" becomes "_Example-3": note there are 4 consecutive spaces (after "Example") which become one dash.

   But wait: the example " Example   3" has a leading space (1 space) and then 4 spaces? Actually, the string is " Example   3":
        The first character is a space (so one space) and then after "Example" there are 4 spaces? Actually, let's count: 
        " Examp